		<success>Always</success>
		<operations>

			<!-- Исправление согласно концепции «12+».

			Трейты в ванили жёстко прописаны - так просто их не удалить.
			Убираем возможность появления нежелательных трейтов при стандартной генерации пешек. -->
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName = "Human"]/alienRace/generalSettings/disallowedTraits</xpath>
				<value>
					<li> <defName>Asexual</defName> </li>
					<li> <defName>Bisexual</defName> </li>
					<li> <defName>Cannibal</defName> </li>
					<li> <defName>Gay</defName> </li>
					<li> <defName>Masochist</defName> </li>
					<li> <defName>Pyromaniac</defName> </li>
				</value>
			</li>
			<!-- Убираем возможность появления нежелательных мыслей. -->
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName = "Human"]/alienRace/thoughtSettings/cannotReceiveThoughts</xpath>
				<value>
					<li>ButcheredHumanlikeCorpse</li>
					<li>HarvestedOrgan_Bloodlust</li>
					<li>KilledHumanlikeBloodlust</li>
					<li>KnowButcheredHumanlikeCorpse</li>
					<li>MasochistPain</li>
					<li>PyromaniacHappy</li>
					<li>PyromaniacNearFire</li>
					<li>WitnessedDeathBloodlust</li>
				</value>
			</li>
			<!-- Далее - перестраховка, на случай хитрой генерации нежелательных трейтов, как в модах на андроидов или на предстартовую подготовку поселенцев.
			Красивое и совместимое с сетевыми модами решение не найдено, пока что удалось сделать их одиноко-бесполезными, максимально сокращающими время возможного общения с нормальными пешками. -->
			<li Class="PatchOperationAdd">
				<xpath>Defs/TraitDef[
				defName = "Asexual" or
				defName = "Bisexual" or
				defName = "Cannibal" or
				defName = "Gay" or
				defName = "Masochist"
				]/degreeDatas/li[1]</xpath>
				<value>
					<hungerRateFactor>100</hungerRateFactor>
					<randomDiseaseMtbDays>0</randomDiseaseMtbDays>
					<socialFightChanceFactor>100</socialFightChanceFactor>
					<statFactors>
						<points>
							<li>(0, 100)</li>
						</points>
					</randomMentalStateMtbDaysMoodCurve>
				</value>
			</li>
			<!-- У пиромана уже были прописаны срывы, заменяем.
			Добавляем намёк на английскую локализацию 12+мода -->
			<li Class="PatchOperationReplace">
				<xpath>Defs/TraitDef[defName = "Pyromaniac"]/degreeDatas/li[1]</xpath>
				<value>
					<li>
						<label>saboteur</label>
						<description>{PAWN_nameDef} only likes to destroy. {PAWN_pronoun} is absolutely unsuitable for life in the colony, it's better to send {PAWN_possessive} to the enemy.</description>
						<hungerRateFactor>100</hungerRateFactor>
						<randomDiseaseMtbDays>0</randomDiseaseMtbDays>
						<socialFightChanceFactor>100</socialFightChanceFactor>
						<statFactors>
							<EatingSpeed>0.01</EatingSpeed>
						</statFactors>
						<statOffsets>
							<MentalBreakThreshold>1</MentalBreakThreshold>
							<MoveSpeed>-10</MoveSpeed>
							<PainShockThreshold>-1</PainShockThreshold>
						</statOffsets>
						<theOnlyAllowedMentalBreaks>
							<li>Berserk</li>
						</theOnlyAllowedMentalBreaks>
						<randomMentalState>Berserk</randomMentalState>
						<randomMentalStateMtbDaysMoodCurve>
							<points>
								<li>(0, 100)</li>
							</points>
						</randomMentalStateMtbDaysMoodCurve>
					</li>
				</value>
			</li>
			<!-- Трейты, у которых не было конфликтов: -->
			<li Class="PatchOperationAdd">
				<xpath>Defs/TraitDef[
				defName = "Nudist" or
				defName = "Bloodlust" or
				defName = "Psychopath" or
				defName = "Cannibal" or
				<value>
					<conflictingTraits>
						<li>Asexual</li>
						<li>Bisexual</li>
						<li>Cannibal</li>
						<li>Gay</li>
						<li>Masochist</li>
						<li>Pyromaniac</li>
					</conflictingTraits>
				</value>
			</li>
			<li MayRequire="Ludeon.RimWorld.Biotech" Class="PatchOperationAdd">
				<xpath>Defs/TraitDef[
				defName = "Delicate" or
				<value>
					<conflictingTraits>
						<li>Asexual</li>
						<li>Bisexual</li>
						<li>Cannibal</li>
						<li>Gay</li>
						<li>Masochist</li>
						<li>Pyromaniac</li>
					</conflictingTraits>
				</value>
			</li>
			<li MayRequire="erdelf.HumanoidAlienRaces" Class="PatchOperationAdd">
				<xpath>Defs/TraitDef[defName = "Xenophobia"]</xpath>
				<value>
					<conflictingTraits>
						<li>Asexual</li>
						<li>Bisexual</li>
						<li>Cannibal</li>
						<li>Gay</li>
						<li>Masochist</li>
						<li>Pyromaniac</li>
					</conflictingTraits>
				</value>
			</li>
			<!-- Трейты, у которых уже были конфликты.
			У хлюпика уже был указан Masochist, но это не мешает. -->
			<li Class="PatchOperationAdd">
				<xpath>Defs/TraitDef[
				defName = "Kind" or
				defName = "TooSmart" or
				defName = "Brawler" or
				defName = "Masochist" or
				defName = "Greedy" or
				defName = "Jealous" or
				defName = "Ascetic" or
				defName = "SlowLearner" or
				defName = "Transhumanist" or
				defName = "BodyPurist" or
				defName = "Gourmand" or
				defName = "ShootingAccuracy" or
				defName = "Wimp"
				]/conflictingTraits</xpath>
				<value>
					<li>Asexual</li>
					<li>Bisexual</li>
					<li>Cannibal</li>
					<li>Gay</li>
					<li>Masochist</li>
					<li>Pyromaniac</li>
				</value>
			</li>
			<!-- Оставить эти скрытые строки как инструкцию по адаптации новых модов на трейты.
			<li Class="PatchOperationAdd">
				<xpath>Defs/TraitDef[defName = "Wimp"]/conflictingTraits</xpath>
				<value>
					<li>Asexual</li>
					<li>Bisexual</li>
					<li>Cannibal</li>
					<li>Gay</li>
					<li>Pyromaniac</li>
				</value>
			</li>
			-->

		</operations>
	</Operation>
</Patch>
