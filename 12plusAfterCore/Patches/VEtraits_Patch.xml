<?xml version="1.0" encoding="utf-8" ?>

<!-- CC BY-NC-SA 4.0
Copyright (c) Oskar Potocki
-->

<Patch>
	<Operation MayRequire="VanillaExpanded.VanillaTraitsExpanded" Class="PatchOperationSequence">
		<success>Always</success>
		<operations>

			<!-- Исправление согласно концепции «12+».

			Пока трейты не исправлены, отключаем их.
			Следить за алфавитным порядком файлов с патчами, тег disallowedTraits -->
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName = "Human"]/alienRace/generalSettings/disallowedTraits</xpath>
				<value>
					<!-- <li> <defName>VTE_MadSurgeon</defName> </li> мысли отключены, идёт тестирование -->
					<li> <defName>VTE_DrunkenMaster</defName> </li>
					<li> <defName>VTE_Kleptomaniac</defName> </li>
					<!-- <li> <defName>VTE_Stoner</defName> </li> подведён под обычную химию, идёт тестирование -->
					<!-- <li> <defName>VTE_Lush</defName> </li> подведён под обычную химию, идёт тестирование. Кстати, у этого трейта ошибка в коде -->
				</value>
			</li>
			<!-- Аналогично с мыслями -->
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName = "Human"]/alienRace/thoughtSettings/cannotReceiveThoughts</xpath>
				<value>
					<!-- <li>VTE_MyRivalsAreAlive</li> мысль переименована, идёт тестирование -->
					<li>VTE_HaventHarvestedOrgansForLongTime</li>
					<li>VTE_HarvestedOrgans</li>
				</value>
			</li>
			<!-- Адаптация к моду Orassans Lite -->
			<li MayRequire="dianawinters.OrassansLite" Class="PatchOperationAdd">
				<xpath>Defs/AlienRace.ThingDef_AlienRace[
				defName = "Alien_Orassan" or
				defName = "Alien_OrassanHumanHybrid"
				]/alienRace/generalSettings/disallowedTraits</xpath>
				<value>
					<!-- <li> <defName>VTE_MadSurgeon</defName> </li> мысли отключены, идёт тестирование -->
					<li> <defName>VTE_DrunkenMaster</defName> </li>
					<li> <defName>VTE_Kleptomaniac</defName> </li>
					<!-- <li> <defName>VTE_Stoner</defName> </li> подведён под обычную химию, идёт тестирование -->
					<!-- <li> <defName>VTE_Lush</defName> </li> подведён под обычную химию, идёт тестирование -->
				</value>
			</li>
			<li MayRequire="dianawinters.OrassansLite" Class="PatchOperationAdd">
				<xpath>Defs/AlienRace.ThingDef_AlienRace[
				defName = "Alien_Orassan" or
				defName = "Alien_OrassanHumanHybrid"
				]/alienRace/thoughtSettings/cannotReceiveThoughts</xpath>
				<value>
					<!-- <li>VTE_MyRivalsAreAlive</li> мысль переименована, идёт тестирование -->
					<li>VTE_HaventHarvestedOrgansForLongTime</li>
					<li>VTE_HarvestedOrgans</li>
				</value>
			</li>
			<!-- Адаптация к моду Android Tiers -->
			<li MayRequire="Atlas.AndroidTiers" Class="PatchOperationAdd">
				<xpath>Defs/AlienRace.ThingDef_AlienRace[
				defName = "Android1Tier" or
				defName = "Android2Tier" or
				defName = "Android3Tier" or
				defName = "Android4Tier" or
				defName = "Android5Tier" or
				defName = "M7Mech"
				]/alienRace/generalSettings/disallowedTraits</xpath>
				<value>
					<!-- <li> <defName>VTE_MadSurgeon</defName> </li> мысли отключены, идёт тестирование -->
					<li> <defName>VTE_DrunkenMaster</defName> </li>
					<li> <defName>VTE_Kleptomaniac</defName> </li>
					<!-- <li> <defName>VTE_Stoner</defName> </li> подведён под обычную химию, идёт тестирование -->
					<!-- <li> <defName>VTE_Lush</defName> </li> подведён под обычную химию, идёт тестирование -->
				</value>
			</li>
			<!-- У М7 уже отключены все мысли -->
			<li MayRequire="Atlas.AndroidTiers" Class="PatchOperationAdd">
				<xpath>Defs/AlienRace.ThingDef_AlienRace[
				defName = "Android1Tier" or
				defName = "Android2Tier" or
				defName = "Android3Tier" or
				defName = "Android4Tier" or
				defName = "Android5Tier"
				]/alienRace/thoughtSettings/cannotReceiveThoughts</xpath>
				<value>
					<!-- <li>VTE_MyRivalsAreAlive</li> мысль переименована, идёт тестирование -->
					<li>VTE_HaventHarvestedOrgansForLongTime</li>
					<li>VTE_HarvestedOrgans</li>
				</value>
			</li>

		</operations>
	</Operation>
</Patch>
